<div *ngIf="isLoading" class="loader-overlay">
  <div class="loader"></div>
</div>
<div class="TaskList-wrapper">
  <div class="table">
    <div *ngIf="showTitle" (click)="goToAllTasks()" class="tableTitle">
      <h3>Task List</h3>
    </div>
    <div class="table-responsive">
      <table>
        <thead>
          <tr>
            <th>Task Type</th>
            <th *ngIf="isMainView">Link</th>
            <th>Firm Name</th>
            <th>Description</th>
            <th>Due Date</th>
            <th>Days Over Due</th>
            <th *ngIf="isMainView">Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of paginatedTasks">
            <td>{{ item.TaskType }}</td>
            <td *ngIf="isMainView" style="text-align: center;">
              <a [href]="item.Link">View</a>
            </td>
            <td>{{ item.FirmName }}</td>
            <td>
              <div *ngIf="!isMainView; else noExpand" class="expandable-text-container">
                <span class="expandable-text">{{ item.ShortDescription }}</span>
              </div>
              <ng-template #noExpand>
                <div>{{ item.ShortDescription }}</div>
              </ng-template>
            </td>
            
            <td>{{item.TaskDueDate}}</td>
            <td>{{item.DaysOverDue}}</td>
            <td *ngIf="isMainView">{{item.Comments}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="pagination">
      <button (click)="previousPage()" [disabled]="currentPage === 1">
        <span>&lt;</span>
      </button>
      <span>Page {{ currentPage }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">
        <span>&gt;</span>
      </button>
      <span>Showing {{ startRow }} to {{ endRow }} of {{ totalRows }} rows</span>
    </div>
  </div>
</div>

<!-- <td>
      <div class="expandable-text-container">
         <span class="expandable-text">{{ item.TaskType }}</span>
      </div>
     </td> don't delete-->