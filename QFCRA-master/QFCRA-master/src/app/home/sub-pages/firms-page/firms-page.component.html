  <!-- Search Form -->
  
  <div class="brid-crump">
    <div class="btn-group">
      <div class="btns">
        <button (click)="toggleSearch()">
          <i class="bi bi-search"></i>
          Search
        </button>
      </div>
    </div>
  </div>

  <!-- Search Section -->
  <section *ngIf="showSearchSection" class="search-firm-section">
    <div class="inputs-field-set">
      <div class="search-firm-actions">
        <h3 class="search-firm-header">Firms <span>Search</span></h3>
      </div>

      <div class="search-firms-inputs">
        <!-- Firm Name (Dropdown) -->
        <div class="input-field">
          <label for="firmName">Firm Name</label>
          <div class="select-wrapper">
            <select name="firmName" id="firmName" [(ngModel)]="firmName">
              <option value="all">All</option>
              <option *ngFor="let firm of firms" [value]="firm.FirmName">
                {{ firm.FirmName }}
              </option>
            </select>
          </div>
        </div>

        <!-- QFC Number -->
        <div class="input-field">
          <label for="qfcNumber">QFC Number</label>
          <input name="qfcNumber" id="qfcNumber" type="text" [(ngModel)]="qfcNumber" />
        </div>

        <!-- Firm Type (Checkboxes) -->
        <div class="input-field" style="width: 100%">
          <div class="checkbox-wrapper">
            <label for="firmType">Firm Type:</label>
            <input type="checkbox" [(ngModel)]="firmType" (change)="toggleCategoryOptions('firmType')" />
            All&nbsp;&nbsp;
          </div>
          <div *ngIf="toggleOptions.firmType" class="checkbox-options">
            <label><input type="checkbox" [(ngModel)]="checkboxes.authorized" />
              Authorized</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.dnfbp" />
              DNFBP</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.licensed" />
              Licensed</label>
          </div>
        </div>

        <!-- Firm Status (Checkboxes) -->
        <div class="input-field" style="width: 100%">
          <div class="checkbox-wrapper">
            <label for="firmStatus">Firm Status:</label>
            <input type="checkbox" [(ngModel)]="firmStatus" (change)="toggleCategoryOptions('firmStatus')" />
            All&nbsp;&nbsp;
          </div>
          <div *ngIf="toggleOptions.firmStatus" class="checkbox-options">
            <label><input type="checkbox" [(ngModel)]="checkboxes.applicant" />
              Applicant</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.applicationWithdrawn" />
              Application Withdrawn</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.applicationRejected" />
              Application Rejected</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.active" />
              Active</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.inactive" />
              Inactive</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.withdrawn" />
              Withdrawn</label>
          </div>
        </div>

        <!-- License Status (Dropdown) -->
        <div class="input-field">
          <label for="licenseStatus">License Status</label>
          <div class="select-wrapper">
            <select name="licenseStatus" id="licenseStatus" [(ngModel)]="licenseStatus">
              <option value="all">All</option>
              <option *ngFor="let status of licenseStatuses" [value]="status">
                {{ status }}
              </option>
            </select>
          </div>
        </div>

        <!-- Authorisation Status (Dropdown) -->
        <div class="input-field">
          <label for="authorisationStatus">Authorisation Status</label>
          <div class="select-wrapper">
            <select name="authorisationStatus" id="authorisationStatus" [(ngModel)]="authorisationStatuses">
              <option value="all">All</option>
              <option *ngFor="let status of authorisationStatuses" [value]="status">
                {{ status }}
              </option>
            </select>
          </div>
        </div>

        <!-- Prudential Category (Checkboxes) -->
        <div class="input-field" style="width: 100%">
          <div class="checkbox-wrapper">
            <label for="prudentialCategory">Prudential Category</label>
            <input type="checkbox" [(ngModel)]="prudentialCategory"
              (change)="toggleCategoryOptions('prudentialCategory')" />
            All&nbsp;&nbsp;
          </div>
          <div *ngIf="toggleOptions.prudentialCategory" class="checkbox-options">
            <label><input type="checkbox" [(ngModel)]="checkboxes.piib1" /> PIIB
              1</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.piib2" /> PIIB
              2</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.piib3" /> PIIB
              3</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.piib4" /> PIIB
              4</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.piib5" /> PIIB
              5</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.directInsurer" />
              Direct Insurer</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.reinsurer" />
              Reinsurer</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.insuranceIntermediary" />
              Insurance Intermediary</label>
          </div>
        </div>

        <!-- Sectors (Checkboxes) -->
        <div class="input-field" style="width: 100%">
          <div class="checkbox-wrapper">
            <label for="sectors">Sectors</label>
            <input type="checkbox" [(ngModel)]="sectors" (change)="toggleCategoryOptions('sectors')" />
            All&nbsp;&nbsp;
          </div>
          <div *ngIf="toggleOptions.sectors" class="checkbox-options">
            <label><input type="checkbox" [(ngModel)]="checkboxes.investmentManager" />
              Investment Manager</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.insurer" />
              Insurer</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.insuranceIntermediary" />
              Insurance Intermediary</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.bank" /> Bank</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.advisor" />
              Advisor</label>
            <label><input type="checkbox" [(ngModel)]="checkboxes.repOffice" /> Rep
              Office</label>
          </div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="input-search-buttons">
        <button type="button" (click)="resetFilters()" class="reset">
          Reset
        </button>
        <button type="button" (click)="searchFirms()" class="search">
          Search
        </button>
      </div>
    </div>
  </section>

  <!-- Alphabet Filter -->
  <div class="alphabet-filter">
    <span *ngFor="let letter of alphabet" (click)="filterFirmsByLetter(letter)">{{
      letter
      }}</span>
  </div>

  <!-- Firm List Component -->
  <app-firm-list [customClass]="'custom-style-firm-page'" [firms]="filteredFirms"></app-firm-list>